<section>
  <div class="container">
    <div class="row mt-4">
      <a href="/admin/add-products" class="btn btn-success ml-auto" style=" width: 200px;">Add
        product</a>
    </div>
    <table class="table mt-5">
      <thead>
        <tr>
          <th scope="col">No</th>
          <th scope="col">Title</th>
          <th scope="col">Category</th>
          <th scope="col">Price</th>
          <th scope="col">Description</th>
          <th scope="col">Image</th>
          <th scope="col">Edit</th>
          <th scope="col">Delete</th>
        </tr>
      </thead>
      <tbody>
        {{#each products}} <tr>
          <th scope="row">{{increment @index}}</th>
          <td>{{this.name}}</td>
          <td>{{this.category}}</td>
          <td>{{this.price}}</td>
          <td>{{this.description}}</td>
          <td>
            {{#if imageUrl}}
            {{{imageDataURI imageUrl 50 50}}}
            {{else}}
            No Image Available
            {{/if}}
          </td>

          <td>
            <a href="/admin/edit/{{this._id}}" class="btn btn-success" method="get">EDIT</a>
            {{!-- <form action="/admin/edit-products/{{this._id}}" method="get">
              <button class=" btn btn-success ml-auto" style="width: 100px;">Edit</button>
            </form> --}}
          </td>

          <td>
            <form action="/admin/delete" method="POST">
              <input type="hidden" name="productId" value="{{this._id}}">
              <button class="btn btn-danger ml-auto" style="width: 100px;">DELETE</button>
            </form>
          </td>
        </tr>
        {{else}}
        <tr>
          <td colspan="6">No products found.</td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>
</section>